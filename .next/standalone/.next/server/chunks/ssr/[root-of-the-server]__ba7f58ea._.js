module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},88347,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{ACTION_HMR_REFRESH:function(){return i},ACTION_NAVIGATE:function(){return e},ACTION_PREFETCH:function(){return h},ACTION_REFRESH:function(){return d},ACTION_RESTORE:function(){return f},ACTION_SERVER_ACTION:function(){return j},ACTION_SERVER_PATCH:function(){return g},PrefetchCacheEntryStatus:function(){return l},PrefetchKind:function(){return k}});let d="refresh",e="navigate",f="restore",g="server-patch",h="prefetch",i="hmr-refresh",j="server-action";var k=function(a){return a.AUTO="auto",a.FULL="full",a.TEMPORARY="temporary",a}({}),l=function(a){return a.fresh="fresh",a.reusable="reusable",a.expired="expired",a.stale="stale",a}({});("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},67009,(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"isThenable",{enumerable:!0,get:function(){return d}})},90841,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{dispatchAppRouterAction:function(){return g},useActionQueue:function(){return h}});let d=a.r(46058)._(a.r(72131)),e=a.r(67009),f=null;function g(a){if(null===f)throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0});f(a)}function h(a){let[b,c]=d.default.useState(a.state);return f=b=>a.dispatch(b,c),(0,e.isThenable)(b)?(0,d.use)(b):b}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},20611,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"callServer",{enumerable:!0,get:function(){return g}});let d=a.r(72131),e=a.r(88347),f=a.r(90841);async function g(a,b){return new Promise((c,g)=>{(0,d.startTransition)(()=>{(0,f.dispatchAppRouterAction)({type:e.ACTION_SERVER_ACTION,actionId:a,actionArgs:b,resolve:c,reject:g})})})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},1722,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"findSourceMapURL",{enumerable:!0,get:function(){return d}});let d=void 0;("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},90220,a=>{"use strict";a.s(["default",()=>c]);var b=a.i(72131);let c=function(a,c=500){let[d,e]=(0,b.useState)(a);return(0,b.useEffect)(()=>{let b=setTimeout(()=>{e(a)},c);return()=>{clearTimeout(b)}},[a,c]),d}},93557,a=>{"use strict";a.s(["useLocalStorage",()=>c]);var b=a.i(72131);function c(a,c){let[d,e]=(0,b.useState)(()=>c),f=(0,b.useCallback)(b=>{try{let a=b instanceof Function?b(d):b;e(a)}catch(b){console.warn(`Error setting localStorage key "${a}":`,b)}},[a,d]),g=(0,b.useCallback)(()=>{try{e(c)}catch(b){console.warn(`Error removing localStorage key "${a}":`,b)}},[a,c]);return(0,b.useEffect)(()=>{},[a]),[d,f,g]}},61096,8756,a=>{"use strict";a.s(["authStorageUtils",()=>e,"useAuthStorage",()=>d],61096),a.s([],8756),a.i(90220);var b=a.i(93557);let c={TOKEN:"auth_token",USER:"auth_user",REFRESH_TOKEN:"auth_refresh_token"};function d(){let a=function(){let[a,d,e]=(0,b.useLocalStorage)(c.TOKEN,null);return{token:a,setToken:d,removeToken:e,isAuthenticated:!!a}}(),d=function(){let[a,d,e]=(0,b.useLocalStorage)(c.USER,null);return{user:a,setUser:d,removeUser:e}}(),e=function(){let[a,d,e]=(0,b.useLocalStorage)(c.REFRESH_TOKEN,null);return{refreshToken:a,setRefreshToken:d,removeRefreshToken:e}}();return{token:a.token,setToken:a.setToken,removeToken:a.removeToken,isAuthenticated:a.isAuthenticated,user:d.user,setUser:d.setUser,removeUser:d.removeUser,refreshToken:e.refreshToken,setRefreshToken:e.setRefreshToken,removeRefreshToken:e.removeRefreshToken,saveAuthData:b=>{a.setToken(b.token),d.setUser(b.user),b.refreshToken&&e.setRefreshToken(b.refreshToken)},clearAuthData:()=>{a.removeToken(),d.removeUser(),e.removeRefreshToken()},getAuthData:()=>a.token&&d.user?{token:a.token,user:d.user,refreshToken:e.refreshToken||void 0}:null}}let e={getToken:()=>null,setToken:a=>{},removeToken:()=>{},getUser:()=>null,setUser:a=>{},removeUser:()=>{},getRefreshToken:()=>null,setRefreshToken:a=>{},removeRefreshToken:()=>{},clearAll:()=>{},isAuthenticated:()=>!1}},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{callServer:function(){return d.callServer},createServerReference:function(){return f.createServerReference},findSourceMapURL:function(){return e.findSourceMapURL}});let d=a.r(20611),e=a.r(1722),f=a.r(38783)},5953,23909,55498,92125,92063,88597,a=>{"use strict";a.s([],5953),a.s(["authLogin",()=>c],23909);var b=a.i(5050),c=(0,b.createServerReference)("40f0a31aeb70ad32b968fd0fe896b3c6303116d220",b.callServer,void 0,b.findSourceMapURL,"authLogin");a.s(["authRegister",()=>d],55498);var d=(0,b.createServerReference)("40d55fb406fbdd4be25aa7fdad843d657e9e2bba5d",b.callServer,void 0,b.findSourceMapURL,"authRegister");a.s(["authVerifyToken",()=>e],92125);var e=(0,b.createServerReference)("40c1a6b837798ba1be02f3c560778373c117297475",b.callServer,void 0,b.findSourceMapURL,"authVerifyToken");a.s(["authLogout",()=>f],92063);var f=(0,b.createServerReference)("4041a6195c97e7b02f8465be3b608697bedc6dffb6",b.callServer,void 0,b.findSourceMapURL,"authLogout");a.s(["authRefreshToken",()=>g],88597);var g=(0,b.createServerReference)("405c8c80fcc86efdd2aaff91ca8f65423130f55a41",b.callServer,void 0,b.findSourceMapURL,"authRefreshToken")},77170,72468,72777,a=>{"use strict";a.s(["login",()=>h,"logout",()=>k,"register",()=>i,"verifyToken",()=>j],77170),a.i(5953);var b=a.i(23909),c=a.i(55498),d=a.i(92125),e=a.i(92063);a.i(88597),a.s([],72777),a.s(["throwIfStatusError",()=>g],72468),a.i(51769);var f=a.i(61096);function g(a){if(!a||"object"!=typeof a||!a.statusError)return;let b=a.statusCode,c=a.statusMessage||a.statusText||"Unknown error",d=401===b||403===b;if(console.log("ðŸš¨ [SERVER ERROR] Details:",{statusCode:b,statusError:a.statusError,statusMessage:c,statusText:a.statusText,isAuthError:d,timestamp:new Date().toISOString(),fullResponse:a}),d){console.warn("ðŸ” [AUTH ERROR] Clearing authentication data and redirecting to login");try{f.authStorageUtils.clearAll()}catch{}}throw a}async function h(a){try{let c=new FormData;c.append("email",a.email),c.append("password",a.password);let d=await (0,b.authLogin)(c);if(g(d),200===d.statusCode&&!d.statusError&&d.data)return{token:d.data,user:{id:"user-123",email:a.email,username:"admin",name:"Administrator"},message:d.statusText};throw Error(d.statusText||"Login failed")}catch(a){throw a}}async function i(a){try{let b=new FormData;b.append("email",a.email),b.append("password",a.password),b.append("username",a.username),b.append("name",a.name);let d=await (0,c.authRegister)(b);if(g(d),200===d.statusCode&&!d.statusError&&d.data)return{token:"",user:{id:d.data.id,email:a.email,username:d.data.username,name:a.name},message:d.statusText};throw Error(d.statusText||d.statusMessage||"Registration failed")}catch(a){throw a}}async function j(a){try{return await (0,d.authVerifyToken)(a)}catch(a){return console.log(a),!1}}async function k(a){try{await (0,e.authLogout)(a)}catch(a){console.log(a)}}},51769,14585,a=>{"use strict";a.s([],51769),a.s(["useAuth",()=>e,"useAuthStatus",()=>f,"useCurrentUser",()=>g],14585);var b=a.i(72131),c=a.i(61096),d=a.i(77170);function e(){let a=(0,c.useAuthStorage)(),[e,f]=(0,b.useState)(!1),[g,h]=(0,b.useState)(null),i=(0,b.useCallback)(async(b,c)=>{try{f(!0),h(null),console.log({token:b,user:c}),a.saveAuthData({token:b,user:c,refreshToken:""});let d=a.getAuthData();console.log({log:d})}catch(a){throw h(a instanceof Error?a.message:"Login failed"),a}finally{f(!1)}},[a]),j=(0,b.useCallback)(async()=>{try{f(!0),h(null),a.token&&await (0,d.logout)(a.token)}catch(a){console.warn("API logout failed, continuing with local logout:",a)}finally{a.clearAuthData(),f(!1),setTimeout(()=>{window.location.href="/login"},100)}},[a]),k=(0,b.useCallback)(()=>{h(null)},[]),l=(0,b.useCallback)(async()=>{if(a.token)try{f(!0),await (0,d.verifyToken)(a.token)||a.clearAuthData()}catch(b){console.log("Token verification failed:",b),a.clearAuthData()}finally{f(!1)}},[a]),m=(0,b.useCallback)(async a=>{try{return await (0,d.verifyToken)(a)}catch(a){return console.log("Token verification failed:",a),!1}},[]);return{user:a.user,token:a.token,isAuthenticated:a.isAuthenticated,isLoading:e,error:g,login:i,logout:j,clearError:k,refreshAuth:l,verifyToken:m}}function f(){let a=(0,c.useAuthStorage)();return{isAuthenticated:a.isAuthenticated,user:a.user,token:a.token}}function g(){let a=(0,c.useAuthStorage)();return{user:a.user,isAuthenticated:a.isAuthenticated}}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ba7f58ea._.js.map